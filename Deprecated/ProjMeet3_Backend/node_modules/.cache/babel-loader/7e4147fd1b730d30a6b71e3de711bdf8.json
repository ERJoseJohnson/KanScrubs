{"ast":null,"code":"'use strict';\n\nconst tls = require('tls');\n\nconst net = require('net');\n\nconst {\n  promise\n} = require('@xmpp/events');\n\nfunction canUpgrade(socket) {\n  return socket instanceof net.Socket && !(socket instanceof tls.TLSSocket);\n}\n\nmodule.exports.canUpgrade = canUpgrade;\n\nasync function upgrade(socket, options = {}) {\n  const tlsSocket = tls.connect({\n    socket,\n    ...options\n  });\n  await promise(tlsSocket, 'secureConnect');\n  return tlsSocket;\n}\n\nmodule.exports.upgrade = upgrade;","map":{"version":3,"sources":["C:/Users/HP/Desktop/KanScrubs/random/node_modules/@xmpp/starttls/starttls.js"],"names":["tls","require","net","promise","canUpgrade","socket","Socket","TLSSocket","module","exports","upgrade","options","tlsSocket","connect"],"mappings":"AAAA;;AAEA,MAAMA,GAAG,GAAGC,OAAO,CAAC,KAAD,CAAnB;;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,KAAD,CAAnB;;AACA,MAAM;AAACE,EAAAA;AAAD,IAAYF,OAAO,CAAC,cAAD,CAAzB;;AAEA,SAASG,UAAT,CAAoBC,MAApB,EAA4B;AAC1B,SAAOA,MAAM,YAAYH,GAAG,CAACI,MAAtB,IAAgC,EAAED,MAAM,YAAYL,GAAG,CAACO,SAAxB,CAAvC;AACD;;AAEDC,MAAM,CAACC,OAAP,CAAeL,UAAf,GAA4BA,UAA5B;;AAEA,eAAeM,OAAf,CAAuBL,MAAvB,EAA+BM,OAAO,GAAG,EAAzC,EAA6C;AAC3C,QAAMC,SAAS,GAAGZ,GAAG,CAACa,OAAJ,CAAY;AAACR,IAAAA,MAAD;AAAS,OAAGM;AAAZ,GAAZ,CAAlB;AACA,QAAMR,OAAO,CAACS,SAAD,EAAY,eAAZ,CAAb;AAEA,SAAOA,SAAP;AACD;;AAEDJ,MAAM,CAACC,OAAP,CAAeC,OAAf,GAAyBA,OAAzB","sourcesContent":["'use strict'\n\nconst tls = require('tls')\nconst net = require('net')\nconst {promise} = require('@xmpp/events')\n\nfunction canUpgrade(socket) {\n  return socket instanceof net.Socket && !(socket instanceof tls.TLSSocket)\n}\n\nmodule.exports.canUpgrade = canUpgrade\n\nasync function upgrade(socket, options = {}) {\n  const tlsSocket = tls.connect({socket, ...options})\n  await promise(tlsSocket, 'secureConnect')\n\n  return tlsSocket\n}\n\nmodule.exports.upgrade = upgrade\n"]},"metadata":{},"sourceType":"script"}