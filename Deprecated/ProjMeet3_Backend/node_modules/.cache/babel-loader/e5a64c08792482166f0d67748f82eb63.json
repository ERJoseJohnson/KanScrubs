{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jose Johnson\\\\Desktop\\\\KanScrubs\\\\random\\\\src\\\\chat_ui\\\\Chatbox.js\";\nimport React from \"react\";\nimport ChatHistory from \"./ChatHistory\";\nimport FormInp from \"./FormInp\";\nimport send from \"./rainbow/Send\";\nvar outgoingMessage;\n\nclass Chatbox extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      companyName: \"\",\n      stored_value: \"Your Message will appear hear\",\n      history: this.props.history\n    };\n\n    this.updateHistory = event => {\n      event.preventDefault();\n      var new_history = this.state.history; // Just created a file bound variable to use with the getData() method\n\n      outgoingMessage = event.target[0].value;\n      new_history.push({\n        user: \"customer1\",\n        message: outgoingMessage\n      });\n      super.setState({\n        history: new_history\n      }); // Sedning new message as POST request to server\n\n      this.postData(outgoingMessage); //send(event.target[0].value) ; \n      // send a post request \n    };\n  }\n\n  postData(outgoingMessage) {\n    // // create a new XMLHttpRequest\n    // var xhr = new XMLHttpRequest()\n    // // get a callback when the server responds\n    // xhr.addEventListener('load', () => {\n    //     // update the state of the component with the result here\n    //     console.log(xhr.responseText)\n    // })\n    // // open the request with the verb and the url\n    // xhr.open('POST', 'localhost:8080/customerMessage')\n    // xhr.setRequestHeader('Content-Type', 'text/plain');\n    // // send the request\n    // xhr.send(JSON.stringify({ incomingMessage: outgoingMessage }))\n    var url = 'http://api.alice.com/cors';\n    var xhr = createCORSRequest('PUT', url);\n    xhr.setRequestHeader('X-Custom-Header', 'value');\n    xhr.send(); // $.ajax({\n    //     type: 'POST',\n    //     url: 'localhost:8080/customerMessage',\n    //     crossDomain: true,\n    //     data: '{\"message\":\"json\"}',\n    //     dataType: 'json',\n    //     success: function (responseData, textStatus, jqXHR) {\n    //         //var value = responseData.someKey;\n    //         console.log(\"POST Success\")\n    //     },\n    //     error: function (responseData, textStatus, errorThrown) {\n    //         alert('POST failed.');\n    //     }\n    // });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"ba bw2 pa2 bg-light-yellow br4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(ChatHistory, {\n      history: this.state.history,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(FormInp, {\n      onSubmit: this.updateHistory,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Chatbox;","map":{"version":3,"sources":["C:/Users/Jose Johnson/Desktop/KanScrubs/random/src/chat_ui/Chatbox.js"],"names":["React","ChatHistory","FormInp","send","outgoingMessage","Chatbox","Component","state","companyName","stored_value","history","props","updateHistory","event","preventDefault","new_history","target","value","push","user","message","setState","postData","url","xhr","createCORSRequest","setRequestHeader","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,IAAIC,eAAJ;;AAGA,MAAMC,OAAN,SAAsBL,KAAK,CAACM,SAA5B,CAAsC;AAAA;AAAA;AAAA,SAElCC,KAFkC,GAE1B;AACJC,MAAAA,WAAW,EAAE,EADT;AAEJC,MAAAA,YAAY,EAAE,+BAFV;AAGJC,MAAAA,OAAO,EAAE,KAAKC,KAAL,CAAWD;AAHhB,KAF0B;;AAAA,SASlCE,aATkC,GASjBC,KAAD,IAAW;AACvBA,MAAAA,KAAK,CAACC,cAAN;AACA,UAAIC,WAAW,GAAG,KAAKR,KAAL,CAAWG,OAA7B,CAFuB,CAGvB;;AACAN,MAAAA,eAAe,GAAGS,KAAK,CAACG,MAAN,CAAa,CAAb,EAAgBC,KAAlC;AACAF,MAAAA,WAAW,CAACG,IAAZ,CAAiB;AAAEC,QAAAA,IAAI,EAAE,WAAR;AAAqBC,QAAAA,OAAO,EAAEhB;AAA9B,OAAjB;AACA,YAAMiB,QAAN,CAAe;AAAEX,QAAAA,OAAO,EAAEK;AAAX,OAAf,EANuB,CAOvB;;AACA,WAAKO,QAAL,CAAclB,eAAd,EARuB,CASvB;AACA;AACH,KApBiC;AAAA;;AAsBlCkB,EAAAA,QAAQ,CAAClB,eAAD,EAAkB;AACtB;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,QAAImB,GAAG,GAAG,2BAAV;AACA,QAAIC,GAAG,GAAGC,iBAAiB,CAAC,KAAD,EAAQF,GAAR,CAA3B;AACAC,IAAAA,GAAG,CAACE,gBAAJ,CAAqB,iBAArB,EAAwC,OAAxC;AACAF,IAAAA,GAAG,CAACrB,IAAJ,GAlBsB,CAoBtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;;AAGDwB,EAAAA,MAAM,GAAG;AACL,WAEI;AAAK,MAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,WAAD;AAAa,MAAA,OAAO,EAAE,KAAKpB,KAAL,CAAWG,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,OAAD;AAAS,MAAA,QAAQ,EAAE,KAAKE,aAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAFJ;AAOH;;AAnEiC;;AAsEtC,eAAeP,OAAf","sourcesContent":["import React from \"react\";\r\nimport ChatHistory from \"./ChatHistory\";\r\nimport FormInp from \"./FormInp\";\r\nimport send from \"./rainbow/Send\";\r\nvar outgoingMessage;\r\n\r\n\r\nclass Chatbox extends React.Component {\r\n\r\n    state = {\r\n        companyName: \"\",\r\n        stored_value: \"Your Message will appear hear\",\r\n        history: this.props.history,\r\n    }\r\n\r\n\r\n    updateHistory = (event) => {\r\n        event.preventDefault();\r\n        var new_history = this.state.history;\r\n        // Just created a file bound variable to use with the getData() method\r\n        outgoingMessage = event.target[0].value;\r\n        new_history.push({ user: \"customer1\", message: outgoingMessage });\r\n        super.setState({ history: new_history });\r\n        // Sedning new message as POST request to server\r\n        this.postData(outgoingMessage);\r\n        //send(event.target[0].value) ; \r\n        // send a post request \r\n    };\r\n\r\n    postData(outgoingMessage) {\r\n        // // create a new XMLHttpRequest\r\n        // var xhr = new XMLHttpRequest()\r\n\r\n        // // get a callback when the server responds\r\n        // xhr.addEventListener('load', () => {\r\n        //     // update the state of the component with the result here\r\n        //     console.log(xhr.responseText)\r\n        // })\r\n        // // open the request with the verb and the url\r\n        // xhr.open('POST', 'localhost:8080/customerMessage')\r\n        // xhr.setRequestHeader('Content-Type', 'text/plain');\r\n        // // send the request\r\n        // xhr.send(JSON.stringify({ incomingMessage: outgoingMessage }))\r\n\r\n        var url = 'http://api.alice.com/cors';\r\n        var xhr = createCORSRequest('PUT', url);\r\n        xhr.setRequestHeader('X-Custom-Header', 'value');\r\n        xhr.send();\r\n\r\n        // $.ajax({\r\n        //     type: 'POST',\r\n        //     url: 'localhost:8080/customerMessage',\r\n        //     crossDomain: true,\r\n        //     data: '{\"message\":\"json\"}',\r\n        //     dataType: 'json',\r\n        //     success: function (responseData, textStatus, jqXHR) {\r\n        //         //var value = responseData.someKey;\r\n        //         console.log(\"POST Success\")\r\n        //     },\r\n        //     error: function (responseData, textStatus, errorThrown) {\r\n        //         alert('POST failed.');\r\n        //     }\r\n        // });\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div className=\"ba bw2 pa2 bg-light-yellow br4\" >\r\n                <ChatHistory history={this.state.history} />\r\n                <FormInp onSubmit={this.updateHistory} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Chatbox; "]},"metadata":{},"sourceType":"module"}