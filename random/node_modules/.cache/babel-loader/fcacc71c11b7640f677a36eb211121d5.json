{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jose Johnson\\\\Desktop\\\\KanScrubs\\\\random\\\\src\\\\chat_ui\\\\Chatbox.js\";\nimport React from \"react\";\nimport ChatHistory from \"./ChatHistory\";\nimport FormInp from \"./FormInp\";\nimport send from \"./rainbow/Send\";\nimport axios from \"axios\";\nvar outgoingMessage;\nvar incomingMessage;\n\nclass Chatbox extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      companyName: \"\",\n      stored_value: \"Your Message will appear hear\",\n      history: this.props.history\n    };\n\n    this.updateHistory = event => {\n      event.preventDefault();\n      var new_history = this.state.history; // Just created a file bound variable to use with the getData() method\n\n      outgoingMessage = event.target[0].value;\n      new_history.push({\n        user: \"customer1\",\n        message: outgoingMessage\n      });\n      super.setState({\n        history: new_history\n      }); // Sedning new message as POST request to server\n      // postData(outgoingMessage);\n      //send(event.target[0].value) ; \n      // try {\n      //     const response = axios.post('http://localhost:8080/customerMessage', { incomingMessage: 'Hi there' });\n      //     console.log('ðŸ‘‰ Returned data:', response);\n      // } catch (e) {\n      //     console.log(`ðŸ˜± Axios request failed: ${e}`);\n      // }\n\n      axios.post('http://localhost:8080/customerMessage', {\n        incomingMessage: outgoingMessage\n      }).then(response => {\n        console.log(response);\n      }, error => {\n        console.log(error);\n      }); // send a post request \n      // axios.get('http://localhost:8080/adminResponse', { success: \"Received admin message\" })\n      //     .then((response) => {\n      //         console.log(response);\n      //     })\n    };\n\n    this.receiveMessage = async () => {\n      axios.get('http://localhost:8080/adminResponse', {\n        success: \"Received admin message\"\n      }).then(response => {\n        if (incomingMessage !== response.adminResponse && response.adminResponse !== \"\") {\n          var new_history = this.state.history; // Just created a file bound variable to use with the getData() method\n\n          incomingMessage = response.adminResponse;\n          new_history.push({\n            user: \"admin\",\n            message: incomingMessage\n          });\n          super.setState({\n            history: new_history\n          });\n        } else {\n          console.log(\"it came into the else \");\n        }\n      });\n    };\n  }\n\n  render() {\n    this.receiveMessage();\n    return React.createElement(\"div\", {\n      className: \"ba bw2 pa2 bg-light-yellow br4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(ChatHistory, {\n      history: this.state.history,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(FormInp, {\n      onSubmit: this.updateHistory,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Chatbox;","map":{"version":3,"sources":["C:/Users/Jose Johnson/Desktop/KanScrubs/random/src/chat_ui/Chatbox.js"],"names":["React","ChatHistory","FormInp","send","axios","outgoingMessage","incomingMessage","Chatbox","Component","state","companyName","stored_value","history","props","updateHistory","event","preventDefault","new_history","target","value","push","user","message","setState","post","then","response","console","log","error","receiveMessage","get","success","adminResponse","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAIC,eAAJ;AACA,IAAIC,eAAJ;;AAGA,MAAMC,OAAN,SAAsBP,KAAK,CAACQ,SAA5B,CAAsC;AAAA;AAAA;AAAA,SAElCC,KAFkC,GAE1B;AACJC,MAAAA,WAAW,EAAE,EADT;AAEJC,MAAAA,YAAY,EAAE,+BAFV;AAGJC,MAAAA,OAAO,EAAE,KAAKC,KAAL,CAAWD;AAHhB,KAF0B;;AAAA,SAUlCE,aAVkC,GAUjBC,KAAD,IAAW;AACvBA,MAAAA,KAAK,CAACC,cAAN;AACA,UAAIC,WAAW,GAAG,KAAKR,KAAL,CAAWG,OAA7B,CAFuB,CAGvB;;AACAP,MAAAA,eAAe,GAAGU,KAAK,CAACG,MAAN,CAAa,CAAb,EAAgBC,KAAlC;AACAF,MAAAA,WAAW,CAACG,IAAZ,CAAiB;AAAEC,QAAAA,IAAI,EAAE,WAAR;AAAqBC,QAAAA,OAAO,EAAEjB;AAA9B,OAAjB;AACA,YAAMkB,QAAN,CAAe;AAAEX,QAAAA,OAAO,EAAEK;AAAX,OAAf,EANuB,CAOvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAb,MAAAA,KAAK,CAACoB,IAAN,CAAW,uCAAX,EAAoD;AAChDlB,QAAAA,eAAe,EAAED;AAD+B,OAApD,EAGKoB,IAHL,CAGWC,QAAD,IAAc;AAChBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACH,OALL,EAKQG,KAAD,IAAW;AACVF,QAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACH,OAPL,EAjBuB,CAyBvB;AAEA;AACA;AACA;AACA;AACH,KAzCiC;;AAAA,SA2ClCC,cA3CkC,GA2CjB,YAAY;AACzB1B,MAAAA,KAAK,CAAC2B,GAAN,CAAU,qCAAV,EAAiD;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAjD,EACKP,IADL,CACWC,QAAD,IAAc;AAChB,YAAIpB,eAAe,KAAKoB,QAAQ,CAACO,aAA7B,IAA8CP,QAAQ,CAACO,aAAT,KAA2B,EAA7E,EAAiF;AAC7E,cAAIhB,WAAW,GAAG,KAAKR,KAAL,CAAWG,OAA7B,CAD6E,CAE7E;;AACAN,UAAAA,eAAe,GAAGoB,QAAQ,CAACO,aAA3B;AAEAhB,UAAAA,WAAW,CAACG,IAAZ,CAAiB;AAAEC,YAAAA,IAAI,EAAE,OAAR;AAAiBC,YAAAA,OAAO,EAAEhB;AAA1B,WAAjB;AACA,gBAAMiB,QAAN,CAAe;AAAEX,YAAAA,OAAO,EAAEK;AAAX,WAAf;AACH,SAPD,MAOO;AAAEU,UAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AAAwC;AACpD,OAVL;AAWH,KAvDiC;AAAA;;AAyDlCM,EAAAA,MAAM,GAAG;AACL,SAAKJ,cAAL;AACA,WAEI;AAAK,MAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,WAAD;AAAa,MAAA,OAAO,EAAE,KAAKrB,KAAL,CAAWG,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,OAAD;AAAS,MAAA,QAAQ,EAAE,KAAKE,aAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAFJ;AAOH;;AAlEiC;;AAoEtC,eAAeP,OAAf","sourcesContent":["import React from \"react\";\r\nimport ChatHistory from \"./ChatHistory\";\r\nimport FormInp from \"./FormInp\";\r\nimport send from \"./rainbow/Send\";\r\nimport axios from \"axios\";\r\n\r\nvar outgoingMessage;\r\nvar incomingMessage;\r\n\r\n\r\nclass Chatbox extends React.Component {\r\n\r\n    state = {\r\n        companyName: \"\",\r\n        stored_value: \"Your Message will appear hear\",\r\n        history: this.props.history,\r\n    }\r\n\r\n\r\n\r\n    updateHistory = (event) => {\r\n        event.preventDefault();\r\n        var new_history = this.state.history;\r\n        // Just created a file bound variable to use with the getData() method\r\n        outgoingMessage = event.target[0].value;\r\n        new_history.push({ user: \"customer1\", message: outgoingMessage });\r\n        super.setState({ history: new_history });\r\n        // Sedning new message as POST request to server\r\n        // postData(outgoingMessage);\r\n        //send(event.target[0].value) ; \r\n        // try {\r\n        //     const response = axios.post('http://localhost:8080/customerMessage', { incomingMessage: 'Hi there' });\r\n        //     console.log('ðŸ‘‰ Returned data:', response);\r\n        // } catch (e) {\r\n        //     console.log(`ðŸ˜± Axios request failed: ${e}`);\r\n        // }\r\n\r\n        axios.post('http://localhost:8080/customerMessage', {\r\n            incomingMessage: outgoingMessage\r\n        })\r\n            .then((response) => {\r\n                console.log(response);\r\n            }, (error) => {\r\n                console.log(error);\r\n            });\r\n        // send a post request \r\n\r\n        // axios.get('http://localhost:8080/adminResponse', { success: \"Received admin message\" })\r\n        //     .then((response) => {\r\n        //         console.log(response);\r\n        //     })\r\n    };\r\n\r\n    receiveMessage = async () => {\r\n        axios.get('http://localhost:8080/adminResponse', { success: \"Received admin message\" })\r\n            .then((response) => {\r\n                if (incomingMessage !== response.adminResponse && response.adminResponse !== \"\") {\r\n                    var new_history = this.state.history;\r\n                    // Just created a file bound variable to use with the getData() method\r\n                    incomingMessage = response.adminResponse;\r\n\r\n                    new_history.push({ user: \"admin\", message: incomingMessage });\r\n                    super.setState({ history: new_history });\r\n                } else { console.log(\"it came into the else \"); }\r\n            })\r\n    }\r\n\r\n    render() {\r\n        this.receiveMessage();\r\n        return (\r\n\r\n            <div className=\"ba bw2 pa2 bg-light-yellow br4\" >\r\n                <ChatHistory history={this.state.history} />\r\n                <FormInp onSubmit={this.updateHistory} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Chatbox; "]},"metadata":{},"sourceType":"module"}